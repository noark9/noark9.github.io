<!DOCTYPE html>
<html>
  <!-- Html Head Tag-->
  <head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="noark9">
  <!-- Open Graph Data -->
  <meta property="og:title" content="install octopress on heroku for windows users"/>
  <meta property="og:description" content="" />
  <meta property="og:site_name" content="noark9 的开发小笔记"/>
  <meta property="og:type" content="article" />
  <meta property="og:image" content="http://blog.noark9.com"/>
  
    <link rel="alternate" href="/atom.xml" title="noark9 的开发小笔记" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  

  <!-- Site Title -->
  <title>noark9 的开发小笔记</title>

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <!-- Custom CSS -->
  
  <link rel="stylesheet" href="/css/style.dark.css">

  <!-- Google Analytics -->
  

</head>

  <body>
    <!-- Page Header -->


<header class="site-header header-background" style="background-image: url(/img/default-banner-dark.jpg)">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <div class="page-title with-background-image">
          <p class="title">install octopress on heroku for windows users</p>
          <p class="subtitle"></p>
        </div>
        <div class="site-menu with-background-image">
          <ul>
            
              <li>
                <a href="/">
                  
                  Home
                  
                </a>
              </li>
            
              <li>
                <a href="/archives">
                  
                  Archives
                  
                </a>
              </li>
            
              <li>
                <a href="https://github.com/noark9">
                  
                  Github
                  
                </a>
              </li>
            
              <li>
                <a href="mailto:noark9@gmail.com">
                  
                  Email
                  
                </a>
              </li>
            
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>

<article>
  <div class="container typo">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <div class="post-info text-muted">
          
            <!-- Author -->
            <span class="author info">By noark9</span>
          
          <!-- Date -->
          <span class="date-time info">On
            <span class="date">Feb 7 2012</span>
            <span class="time">21:00:11</span>
          </span>
          
        </div>
        <!-- Tags -->
        
          <div class="post-tags text-muted">
            Tags: 

<a class="tag" href="/tags/blog/">#blog</a>


          </div>
        
        <!-- Post Main Content -->
        <div class="post-content">
          <h1 id="为啥搞这个"><a href="#为啥搞这个" class="headerlink" title="为啥搞这个"></a>为啥搞这个</h1><p>最近一个同学开始写博客了,给我介绍了下可以用octopress和heroku,让我看了下他的博客的效果和一个使用教程,看了下发觉还算是不错的东西,并且也是装B专用的啊,哈哈,于是顺便自己也学学怎么用,刚好也想开始试试写写博客,但是发现一个问题,他用的是linux和mac而我用的是windows,windows从根本上没有提供shell和较好的ruby支持,现在来写下自己在windows上使用octopress的经验.不过我也没写过博客…这个文章最主要的目的是给自己记录下以后才知道要怎么用.</p>
<h1 id="开始安装吧"><a href="#开始安装吧" class="headerlink" title="开始安装吧"></a>开始安装吧</h1><p>既然是for windows users那么自然就只有windows部分的安装方法了,而windows先天没有shell和ruby的环境自然不好安装,那么下一步先安装ruby,windows下有<a href="http://rubyinstaller.org/" target="_blank" rel="noopener">RubyInstall</a>比较好用,可以直接下载最新的<a href="http://rubyinstaller.org/news/2011/10/31/rubyinstaller-1-9-3-p0-released/" target="_blank" rel="noopener">1.9.3</a>来安装,安装完成后还需要一个编译环境,否则无法安装octopress所需要的gem,那么我们还需要一个可以编译的环境这里我用的是MinGW大家可以自行到<a href="http://www.mingw.org/" target="_blank" rel="noopener">http://www.mingw.org/</a>下载安装配置使用,这里就不详述怎么用了.</p>
<a id="more"></a>
<p>下载后先从github获取octopress</p>
<pre><code>git clone git://github.com/imathis/octopress.git
</code></pre><p>获取成功没问题的话</p>
<pre><code>bundle install
</code></pre><p>成功的话</p>
<pre><code>rake install
</code></pre><p>那么我们测试下是否成功了</p>
<pre><code>rake preview
</code></pre><p>这样就可以在<a href="http://127.0.0.1:4000" target="_blank" rel="noopener">http://127.0.0.1:4000</a>看到成果了</p>
<h1 id="写文章"><a href="#写文章" class="headerlink" title="写文章"></a>写文章</h1><p>在octopress里面每一个文章都是一个markdown格式的文件,需要放在<code>source/_post</code>路径下需要按照<code>YYYY-MM-DD-post-title.markdown</code>的格式来命名,这样才能正确生成文章,当然也可以使用rake来做</p>
<pre><code>rake new_post[postname]
</code></pre><p>那么就会自动创建相应的文章了,一开始大家肯定都不熟悉markdown这种东西,那么就需要相应的工具了,mac上有好用的<a href="http://mouapp.com/" target="_blank" rel="noopener">Mou</a>,windows上自然也不会缺少好用的工具了,目前自己用着<a href="http://markdownpad.com/" target="_blank" rel="noopener">MarkdownPad</a>觉得也还挺不错的</p>
<h1 id="生成文章"><a href="#生成文章" class="headerlink" title="生成文章"></a>生成文章</h1><p>写好后,最重要的工作那就是发布到heroku上了,否则写了干啥呢-,-…但是先等等,我们的文章还是markdown格式的文件的,还需要生成为静态的html文档的,那么就需要下面的命令</p>
<pre><code>rake generate
</code></pre><p>这时候如果博客文件里面有中文,那么立马出错,可能是编码的问题导致的,但是文件编码已经是UTF-8的了,但是还是没办法解决,经过多方查找终于找到了一个解决方法,修改<code>C:\Ruby193\lib\ruby\gems\1.9.1\gems\jekyll-0.11.0\lib\jekyll\convertible.rb</code>(路径根据ruby安装的未知不同而不同)文件中的</p>
<pre><code>self.content = File.read(File.join(base, name))
</code></pre><p>为</p>
<pre><code>self.content = File.read(File.join(base, name), :encoding =&gt; &quot;utf-8&quot;)
</code></pre><p>即可,如果大家有新的方法也可以联系我.</p>
<h1 id="发布到heroku"><a href="#发布到heroku" class="headerlink" title="发布到heroku"></a>发布到heroku</h1><p>上传之前需要先修改<code>.gitignore</code>的内容,将<code>public</code>去掉,否则未上传<code>public</code>的内容会出现<code>Sorry, I cannot find /</code>的错误信息.</p>
<p>好的如果到这里都没有错误,那么说明我们的ruby,octopress等各种东西配置都无误,那么说明我们已经基本成功了,剩下就是要把生成好的博文发布到heroku上了.</p>
<p>如果还没有项目,那么需要先建立应用</p>
<pre><code>heroku create appname
</code></pre><p>appname就是你的应用的名字,然后再把之前弄好的东西放到git上</p>
<pre><code>git add .
git commit -m &quot;Commit my blog&quot;
git push heroku master
</code></pre><p>到此上传没有问题,那么就结束了,我们可以通过<a href="http://appname.heroku.com" target="_blank" rel="noopener">http://appname.heroku.com</a>来访问我们之前建立好的页面.</p>

        </div>
      </div>
    </div>
  </div>
</article>



    <!-- Footer -->
<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <p class="copyright text-muted">
          Theme By <a target="_blank" href="https://github.com/levblanc">Levblanc.</a>
          Inspired By <a target="_blank" href="https://github.com/klugjo/hexo-theme-clean-blog">Clean Blog.</a>
        <p class="copyright text-muted">
          Powered By <a target="_blank" href="https://hexo.io/">Hexo.</a>
        </p>
      </div>
    </div>
  </div>
</footer>


    <!-- After Footer Scripts -->
<script src="/js/highlight.pack.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", function(event) {
    var codeBlocks = Array.prototype.slice.call(document.getElementsByTagName('pre'))
    codeBlocks.forEach(function(block, index) {
      hljs.highlightBlock(block);
    });
  });
</script>

  </body>
</html>

